<?xml version="1.0" encoding="UTF-8"?>
<package id="core" name="Core Package" version="1.0.0">
    <metadata>
        <description>Core entities and scenes for the FPV Flight Simulator</description>
        <author>FPV Flight Simulator Team</author>
    </metadata>
    
    <dependencies>
        <!-- No dependencies for core package -->
    </dependencies>
    
    <assets>
        <!-- Red Cube Material -->
        <material id="redCubeMaterial" name="Red Cube Material">
            <diffuseColor r="1.0" g="0.0" b="0.0" a="1.0"/>
            <specularColor r="0.2" g="0.9" b="0.2" a="1.0"/>
            <shininess>32.0</shininess>
        </material>
        
        <!-- Cube Mesh -->
        <mesh id="cubeMesh" name="Cube Mesh" type="procedural">
            <primitive type="cube"/>
            <size width="1.0" height="1.0" depth="1.0"/>
            <uvMapping>true</uvMapping>
        </mesh>
    </assets>
    
    <scenes>
        <!-- Default Red Cube Scene -->
        <scene id="redCubeScene" name="Red Cube Scene" default="true">
            <description>A simple scene with a red cube in the center of the screen</description>
            
            <!-- Scene Settings -->
            <settings>
                <backgroundColor r="0.1" g="0.1" b="0.2" a="1.0"/>
                <ambientLight r="0.3" g="0.3" b="0.3"/>
            </settings>
            
            <!-- Camera -->
            <camera>
                <position x="0.0" y="0.0" z="5.0"/>
                <target x="0.0" y="0.0" z="0.0"/>
                <up x="0.0" y="1.0" z="0.0"/>
                <fov>45.0</fov>
                <nearPlane>0.1</nearPlane>
                <farPlane>100.0</farPlane>
            </camera>
            
            <!-- Entities -->
            <entities>
                <!-- Red Cube Entity -->
                <entity id="redCube" name="Red Cube">
                    <transform>
                        <position x="0.0" y="0.0" z="0.0"/>
                        <rotation x="0.0" y="0.0" z="0.0" w="1.0"/>
                        <scale x="1.0" y="1.0" z="1.0"/>
                    </transform>
                    
                    <renderable>
                        <mesh ref="cubeMesh"/>
                        <material ref="redCubeMaterial"/>
                        <visible>true</visible>
                    </renderable>
                    
                    <!-- Optional: Add spinning behavior -->
                    <behavior codeBehind="core.SpinBehavior">
                        <parameter name="rotationSpeed" value="45.0"/>
                        <parameter name="axis" x="0.0" y="1.0" z="0.0"/>
                    </behavior>
                </entity>
                
                <!-- Main Light -->
                <entity id="mainLight" name="Main Light">
                    <transform>
                        <position x="2.0" y="2.0" z="2.0"/>
                        <rotation x="0.0" y="0.0" z="0.0" w="1.0"/>
                        <scale x="1.0" y="1.0" z="1.0"/>
                    </transform>
                    
                    <light>
                        <type>directional</type>
                        <color r="0.1" g="0.0" b="0.0"/>
                        <intensity>1.0</intensity>
                        <direction x="-1.0" y="-1.0" z="-1.0"/>
                    </light>
                </entity>
            </entities>
        </scene>
    </scenes>
    
    <behaviors>
        <!-- Spinning Behavior for Cube -->
        <behavior class="core.SpinBehavior" name="Spin Behavior">
            <description>Rotates an entity continuously around a specified axis</description>
            <parameters>
                <parameter name="rotationSpeed" type="float" default="30.0" description="Rotation speed in degrees per second"/>
                <parameter name="axis" type="vector3" default="0,1,0" description="Rotation axis (normalized)"/>
            </parameters>
        </behavior>
    </behaviors>
</package>
