<?xml version="1.0" encoding="UTF-8"?>
<input_config>
    <!-- 
        Input Configuration for FPV Flight Simulator
        Defines key bindings, mouse settings, and input device preferences
    -->
    
    <!-- Global input settings -->
    <settings>
        <mouse_sensitivity>1.0</mouse_sensitivity>
        <mouse_invert_y>false</mouse_invert_y>
        <keyboard_repeat_delay>300</keyboard_repeat_delay>
        <keyboard_repeat_rate>50</keyboard_repeat_rate>
        <gamepad_deadzone>0.1</gamepad_deadzone>
        <gamepad_sensitivity>1.0</gamepad_sensitivity>
    </settings>
    
    <!-- Key bindings for various actions -->
    <key_bindings>
        <!-- Console and debug controls -->
        <binding action="ToggleDebugConsole" key_code="TILDE" device="Keyboard" />
        <binding action="ToggleWireframe" key_code="F1" device="Keyboard" />
        <binding action="TogglePerfMetrics" key_code="F2" device="Keyboard" />
        <binding action="ReloadAssets" key_code="F5" device="Keyboard" />
        
        <!-- Camera controls -->
        <binding action="CameraForward" key_code="W" device="Keyboard" />
        <binding action="CameraBackward" key_code="S" device="Keyboard" />
        <binding action="CameraLeft" key_code="A" device="Keyboard" />
        <binding action="CameraRight" key_code="D" device="Keyboard" />
        <binding action="CameraUp" key_code="SPACE" device="Keyboard" />
        <binding action="CameraDown" key_code="LSHIFT" device="Keyboard" />
        
        <!-- Vehicle controls -->
        <binding action="Throttle" key_code="T" device="Keyboard" />
        <binding action="Brake" key_code="B" device="Keyboard" />
        <binding action="PitchUp" key_code="UP" device="Keyboard" />
        <binding action="PitchDown" key_code="DOWN" device="Keyboard" />
        <binding action="YawLeft" key_code="LEFT" device="Keyboard" />
        <binding action="YawRight" key_code="RIGHT" device="Keyboard" />
        <binding action="RollLeft" key_code="Q" device="Keyboard" />
        <binding action="RollRight" key_code="E" device="Keyboard" />
        
        <!-- System controls -->
        <binding action="Pause" key_code="P" device="Keyboard" />
        <binding action="Reset" key_code="R" device="Keyboard" />
        <binding action="Quit" key_code="ESCAPE" device="Keyboard" />
    </key_bindings>
    
    <!-- Mouse bindings -->
    <mouse_bindings>
        <binding action="CameraLook" button="RIGHT" device="Mouse" />
        <binding action="CameraPan" button="MIDDLE" device="Mouse" />
        <binding action="FirePrimary" button="LEFT" device="Mouse" />
    </mouse_bindings>
    
    <!-- Gamepad bindings (Xbox controller layout) -->
    <gamepad_bindings>
        <binding action="CameraForward" axis="LEFT_STICK_Y" direction="positive" device="Gamepad" />
        <binding action="CameraBackward" axis="LEFT_STICK_Y" direction="negative" device="Gamepad" />
        <binding action="CameraLeft" axis="LEFT_STICK_X" direction="negative" device="Gamepad" />
        <binding action="CameraRight" axis="LEFT_STICK_X" direction="positive" device="Gamepad" />
        
        <binding action="CameraLookX" axis="RIGHT_STICK_X" device="Gamepad" />
        <binding action="CameraLookY" axis="RIGHT_STICK_Y" device="Gamepad" />
        
        <binding action="Throttle" trigger="RIGHT_TRIGGER" device="Gamepad" />
        <binding action="Brake" trigger="LEFT_TRIGGER" device="Gamepad" />
        
        <binding action="ToggleDebugConsole" button="SELECT" device="Gamepad" />
        <binding action="Pause" button="START" device="Gamepad" />
        <binding action="Reset" button="Y" device="Gamepad" />
    </gamepad_bindings>
    
    <!-- Input contexts - different sets of bindings for different game states -->
    <contexts>
        <context name="Menu">
            <active_bindings>ToggleDebugConsole,Quit</active_bindings>
        </context>
        
        <context name="Flight">
            <active_bindings>
                ToggleDebugConsole,ToggleWireframe,TogglePerfMetrics,ReloadAssets,
                CameraForward,CameraBackward,CameraLeft,CameraRight,CameraUp,CameraDown,
                Throttle,Brake,PitchUp,PitchDown,YawLeft,YawRight,RollLeft,RollRight,
                Pause,Reset,Quit,CameraLook,CameraPan,FirePrimary
            </active_bindings>
        </context>
        
        <context name="Console">
            <active_bindings>ToggleDebugConsole</active_bindings>
        </context>
    </contexts>
    
    <!-- Default context -->
    <default_context>Flight</default_context>
</input_config>
